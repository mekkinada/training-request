(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{121:function(e,t,a){e.exports=a(155)},126:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),o=a.n(r),i=(a(126),a(23)),s=a(20),c=(a(93),a(75)),u=a(2),m=a.n(u),d=function(e){e?m.a.defaults.headers.common.Authorization=e:delete m.a.defaults.headers.common.Authorization},p=function(e){return{type:"SET_CURRENT_USER",payload:e}},h=function(){return function(e){localStorage.removeItem("jwtToken"),d(!1),e(p({}))}},b=a(17),f=a(44),E=a(109),g=a(53),v=a(149),y={isAuthenticated:!1,user:{},loading:!1},j={},w=Object(f.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(g.a)({},e,{isAuthenticated:!v(t.payload),user:t.payload});case"USER_LOADING":return Object(g.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),k=[E.a],S=Object(f.e)(w,{},Object(f.d)(f.a.apply(void 0,k),window.devToolsExtension?window.devToolsExtension():function(e){return e})),N=a(9),O=a(7),x=a(12),C=a(13),_=a(6),D=a(14),I=a(181),A=a(180),R=a(185),B=a(183),T=a(184),F=a(182),J=a(187),M=a(186),L=a(30),P=a.n(L),U=a(29),V=a.n(U),W=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).state={users:[],sortedUsers:[],sortName:!0},a.renderIcon=a.renderIcon.bind(Object(_.a)(a)),a.sortChange=a.sortChange.bind(Object(_.a)(a)),a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.a.get("http://localhost:4000/user").then((function(t){e.setState({users:t.data,sortedUsers:t.data})})).catch((function(e){console.log(e)}))}},{key:"sortChange",value:function(){var e=this.state.users,t=this.state.sortName;e.sort((function(e,a){return void 0!==e.date&&void 0!==a.date?(1-2*t)*(new Date(e.date)-new Date(a.date)):1})),this.setState({users:e,sortName:!this.state.sortName})}},{key:"renderIcon",value:function(){return this.state.sortName?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(A.a,{container:!0},l.a.createElement(A.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(I.a,null,l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(T.a,null,l.a.createElement(R.a,null," ",l.a.createElement(M.a,{onClick:this.sortChange},this.renderIcon()),"Date"),l.a.createElement(R.a,null,"Name"),l.a.createElement(R.a,null,"Email"))),l.a.createElement(J.a,null,this.state.users.map((function(e,t){return l.a.createElement(T.a,{key:t},l.a.createElement(R.a,null,e.date.substring(0,10)),l.a.createElement(R.a,null,e.name),l.a.createElement(R.a,null,e.email))}))))))))}}]),t}(n.Component),z=a(188),H=a(189),Y=a(50),G=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).state={name:"",email:""},a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement(z.a,{fluid:!0},l.a.createElement(H.a,null,l.a.createElement("h1",{style:{fontFamily:"monospace"}},"Welcome to JobsPlanet"),l.a.createElement("p",null,l.a.createElement("h6",null,l.a.createElement("b",null,l.a.createElement("i",null,"The easiest way to find your dream job!")))),l.a.createElement(i.b,{to:"/login"},l.a.createElement(Y.a,{renderAs:"button",style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"}},l.a.createElement("span",null,"Login"))),l.a.createElement("hr",null),l.a.createElement("h6",{className:"grey-text text-darken-1"},"Don't have an account? ",l.a.createElement(i.b,{to:"/register"},"Register"))))}}]),t}(n.Component),q=a(16),$=a(8),K=a.n($),Q=function(e){function t(){var e;return Object(N.a)(this,t),(e=Object(x.a)(this,Object(C.a)(t).call(this))).onChange=function(t){e.setState(Object(q.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault(),console.log(e.state.skills),"applicant"===e.state.role&&""!==e.state.skills&&0!==e.state.skills.length&&(e.state.skills=e.state.skills.split(","));var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2,role:e.state.role,phone_number:e.state.phone_number,skills:e.state.skills};e.props.registerUser(a,e.props.history),console.log(a)},e.state={name:"",email:"",password:"",password2:"",role:"",phone_number:NaN,skills:[],errors:{}},e.handleChange=e.handleChange.bind(Object(_.a)(e)),e}return Object(D.a)(t,e),Object(O.a)(t,[{key:"handleChange",value:function(e){this.setState({role:e.target.value})}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e,t=this.state.errors;return"applicant"===this.state.role&&(e=l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"skills"},"Skills (comma-separated):"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.skills,placeholder:"Enter skills",id:"skills",type:"text"}))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s8 offset-s2"},l.a.createElement(i.b,{to:"/",className:"btn-flat waves-effect"},l.a.createElement("i",{className:"material-icons left"},l.a.createElement("b",null,"keyboard_backspace"))),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("h4",null,l.a.createElement("b",null,"Register")),l.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",l.a.createElement(i.b,{to:"/login"},"Log in"))),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"name"},"Role"),l.a.createElement("br",null),l.a.createElement("select",{value:this.state.role,onChange:this.handleChange,error:t.role,id:"role",className:K()("",{invalid:t.role})},l.a.createElement("option",{value:""},"Select role"),l.a.createElement("option",{value:"applicant"},"Applicant")),l.a.createElement("span",{className:"red-text"},t.role)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"name"},"Name"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:t.name,id:"name",type:"text",className:K()("",{invalid:t.name})}),l.a.createElement("span",{className:"red-text"},t.name)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:t.email,id:"email",type:"email",className:K()("",{invalid:t.email})}),l.a.createElement("span",{className:"red-text"},t.email)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:t.password,id:"password",type:"password",className:K()("",{invalid:t.password})}),l.a.createElement("span",{className:"red-text"},t.password)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:t.password2,id:"password2",type:"password",className:K()("",{invalid:t.password2})}),l.a.createElement("span",{className:"red-text"},t.password2)),l.a.createElement("hr",null),l.a.createElement("div",{className:"input-field col s12"},e),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3"},"Sign up"))))))}}]),t}(n.Component),X=Object(b.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){m.a.post("http://localhost:4000/user/register",e).then((function(e){return alert("User registered successfully! You can log in now. ")}),t.push("/register")).catch((function(e){console.log("err",e),a({type:"GET_ERRORS",payload:e.response.data})}))}}})(Object(s.g)(Q)),Z=function(e){function t(){var e;return Object(N.a)(this,t),(e=Object(x.a)(this,Object(C.a)(t).call(this))).onChange=function(t){e.setState(Object(q.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a),console.log(a)},e.state={email:"",password:"",errors:{}},e}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{style:{marginTop:"4rem"},className:"row"},l.a.createElement("div",{className:"col s8 offset-s2"},l.a.createElement(i.b,{to:"/",className:"btn-flat waves-effect"},l.a.createElement("i",{className:"material-icons left"},l.a.createElement("b",null,"keyboard_backspace"))),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("h4",null,l.a.createElement("b",null,"Login")),l.a.createElement("p",{className:"grey-text text-darken-1"},"Don't have an account? ",l.a.createElement(i.b,{to:"/register"},"Register"))),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:K()("",{invalid:e.email||e.emailnotfound})}),l.a.createElement("span",{className:"red-text"},e.email,e.emailnotfound)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:K()("",{invalid:e.password||e.passwordincorrect})}),l.a.createElement("span",{className:"red-text"},e.password,e.passwordincorrect)),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3"},"Login"))))))}}]),t}(n.Component),ee=Object(b.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){m.a.post("http://localhost:4000/user/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),d(a);var n=Object(c.a)(a);t(p(n))})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}})(Z),te=a(192),ae=a(193),ne=function(e){function t(){return Object(N.a)(this,t),Object(x.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return l.a.createElement(te.a,{bg:"light",expand:"lg"},l.a.createElement(te.a.Brand,{href:"/"},l.a.createElement("i",{className:"material-icons"},"work"),l.a.createElement("b",null," JobsPlanet")),l.a.createElement(te.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(te.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(ae.a,{className:"mr-auto"},l.a.createElement(ae.a.Link,{href:"/"},"Home"),l.a.createElement(ae.a.Link,{href:"/profile"},"My Profile"),l.a.createElement(ae.a.Link,{href:"/dashboard"},"Dashboard"))))}}]),t}(n.Component),le=a(10),re=a(194),oe=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.state={userdetails:[],showform:!1,editing:"",school:"",degree:"",startdate:new Date,file:null},a.delEducation=a.delEducation.bind(Object(_.a)(a)),a.editEducation=a.editEducation.bind(Object(_.a)(a)),a.editEducationSubmit=a.editEducationSubmit.bind(Object(_.a)(a)),a.onBack=a.onBack.bind(Object(_.a)(a)),a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;m.a.get("http://localhost:4000/user/"+t.id).then((function(t){e.setState({userdetails:t.data})})).catch((function(e){console.log(e)}))}},{key:"delEducation",value:function(e){var t=this,a=this.props.auth.user,n=e._id;this.state.userdetails.education=this.state.userdetails.education.filter((function(e){return e._id!==n})),m.a.put("http://localhost:4000/user/edit_profile/"+a.id,this.state.userdetails).then((function(e){console.log(t.state.userdetails)})).catch((function(e){console.log(e)})),window.location.reload()}},{key:"editEducation",value:function(e){var t=!this.state.showform;this.setState({showform:t});var a=e._id;this.setState({editing:a}),console.log(this.state.showform),this.setState({school:e.school}),this.setState({degree:e.degree}),e.startdate&&(e.startdate=e.startdate.toString(),e.startdate=e.startdate.substring(0,10),this.setState({startdate:e.startdate})),e.enddate&&(e.enddate=e.enddate.toString(),e.enddate=e.enddate.substring(0,10),this.setState({enddate:e.enddate}))}},{key:"onBack",value:function(){var e=!this.state.showform;this.setState({showform:e}),this.setState({editing:""}),window.location.reload()}},{key:"editEducationSubmit",value:function(e){var t=this,a=this.props.auth.user,n=e._id;this.setState({editing:""});var l=this.state.userdetails.education.findIndex((function(e){return e._id===n}));""!==this.state.school&&(this.state.userdetails.education[l].school=this.state.school),""!==this.state.degree&&(this.state.userdetails.education[l].degree=this.state.degree),this.state.userdetails.education[l].startdate=this.state.startdate,this.state.enddate&&new Date(this.state.enddate)<=new Date(this.state.startdate)?alert("End date ahould be after start date."):(this.state.userdetails.education[l].enddate=this.state.enddate,m.a.put("http://localhost:4000/user/edit_profile/"+a.id,this.state.userdetails).then((function(e){console.log(t.state.userdetails)})).catch((function(e){console.log(e)})));var r=!this.state.showform;this.setState({showform:r})}},{key:"render",value:function(){var e,t=this,a=this.state.userdetails,n=a.role;return"applicant"===n?e=l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,"Email: ",a.email),l.a.createElement("li",null,"Skills:",l.a.createElement("ul",null,a.skills.map((function(e){return l.a.createElement("li",null,e)}))))),l.a.createElement("hr",null),l.a.createElement("ul",null,l.a.createElement("li",null,"Education:",l.a.createElement(re.a,{title:"Add Education","aria-label":"added"},l.a.createElement(i.b,{style:{color:"#009900",weight:"bold"},to:"/addeducation"},l.a.createElement("i",{className:"material-icons"},l.a.createElement("h2",null," add")))),l.a.createElement("ul",null,a.education.map((function(e){return l.a.createElement("li",null,l.a.createElement("ul",null,l.a.createElement("li",null,"School: ",e.school),l.a.createElement("li",null,"Degree: ",e.degree),l.a.createElement("li",null,"Start date: ",e.startdate?e.startdate.toString().substring(0,10):"NA"),l.a.createElement("li",null,"End date: ",e.enddate?e.enddate.toString().substring(0,10):"NA")),l.a.createElement("div",null,t.state.showform&&e._id===t.state.editing?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("form",{noValidate:!0,onSubmit:t.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"school"},"School"),l.a.createElement("br",null),l.a.createElement("input",{onChange:t.onChange,value:t.state.school,id:"school",type:"text"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"degree"},"Degree"),l.a.createElement("br",null),l.a.createElement("input",{onChange:t.onChange,value:t.state.degree,id:"degree",type:"text"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"startdate"},"Start Date"),l.a.createElement("br",null),l.a.createElement("input",{onChange:t.onChange,value:t.state.startdate,id:"startdate",type:"date"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"enddate"},"End Date"),l.a.createElement("br",null),l.a.createElement("input",{onChange:t.onChange,value:t.state.enddate,id:"enddate",type:"date"})),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{color:"#0000FF"},className:"btn btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.onBack()}},l.a.createElement("b",null,"Back")),l.a.createElement("button",{style:{color:"#009900"},className:"btn btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.editEducationSubmit(e)}},l.a.createElement("b",null,"Save"))))):l.a.createElement("div",null,l.a.createElement(re.a,{title:"Delete Above Education","aria-label":"delete"},l.a.createElement("button",{style:{color:"#FF0000"},className:"btn btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.delEducation(e)}},l.a.createElement("i",{className:"material-icons"},"delete"))),l.a.createElement(re.a,{title:"Edit Above Education","aria-label":"edit"},l.a.createElement("button",{style:{color:"#0000FF"},className:"btn btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.editEducation(e)}},l.a.createElement("i",{className:"material-icons"},"edit"))))),l.a.createElement("br",null))})))))):"recruiter"===n&&(e=l.a.createElement("ul",null,l.a.createElement("li",null,"Bio: ",a.bio),l.a.createElement("li",null,"Email: ",a.email),l.a.createElement("li",null,"Contact No.: ",a.phone_number))),l.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(le.a,{style:{width:"100%"}},l.a.createElement(le.a.Header,null,l.a.createElement(Y.a,{variant:"light"},l.a.createElement("h4",null,"My Profile"))),l.a.createElement(le.a.Body,null,l.a.createElement(le.a.Title,null,l.a.createElement("p",null,l.a.createElement("b",null,a.name,": "),l.a.createElement(re.a,{title:"Edit Profile","aria-label":"edit"},l.a.createElement(i.b,{to:"/editprofile"},l.a.createElement("i",{className:"material-icons"}," edit"))))),l.a.createElement(le.a.Text,null,e))))))}}]),t}(n.Component),ie=Object(b.b)((function(e){return{auth:e.auth}}))(oe),se=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.validate=function(){var e=a.state,t="",n="",l="";if(a.state.name||(t="Name cannot be blank"),a.state.email.includes("@")||(n="Invalid email"),n||t)return a.setState({emailError:n,nameError:t}),!1;if("recruiter"===e.role&&a.state.bio.split(" ").length>250)return l="Bio cannot have more than 250 words.",a.setState({bioError:l}),!1;return!0},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.props.auth.user,n=a.state;n.skills=a.state.skillsstring.split(",");var l={name:n.name,email:n.email,password:n.password,password2:n.password2,role:n.role,phone_number:n.phone_number,bio:n.bio,resume:n.resume,skills:n.skills};a.validate()&&(m.a.put("http://localhost:4000/user/edit_profile/"+t.id,l).then((function(e){console.log(l),a.props.history.push("/profile")})).catch((function(e){console.log(e)})),a.state.jobs.filter((function(e){return e.recruiter===t.id})).forEach((function(e){var t={recruiterName:n.name,recruiterEmail:n.email};m.a.put("http://localhost:4000/job/edit_job/"+e._id,t).then((function(e){console.log(t)})).catch((function(e){console.log(e)}))})))},a.state={userdetails:[],jobs:[],name:"",email:"",password:"",bio:"",role:"",resume:"",phone_number:NaN,skills:[],skillsstring:"",nameError:"",emailError:"",bioError:""},a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;m.a.get("http://localhost:4000/user/"+t.id).then((function(t){e.setState({name:t.data.name,email:t.data.email,password:t.data.password,role:t.data.role,phone_number:t.data.phone_number,bio:t.data.bio,resume:t.data.resume,skills:t.data.skills})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/job/get_jobs").then((function(t){e.setState({jobs:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e,t=this.state,a=t.role;return t.skillsstring=t.skills.toString(),"applicant"===a?e=l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"name"},"Name"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.name,id:"name",type:"text"}),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.nameError)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.email,id:"email",type:"email"}),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.emailError)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"skills"},"Skills"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.skillsstring,id:"skills",type:"text"})),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3"},"Save"))):"recruiter"===a&&(e=l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"name"},"Name"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.name,id:"name",type:"text"}),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.nameError)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"bio"},"Bio."),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.bio,id:"bio",type:"text"}),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.bioError)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"phone_number"},"Phone no."),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.phone_number,id:"phone_number",type:"number"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.email,id:"email",type:"email"}),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.emailError)),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3"},"Save")))),l.a.createElement("div",{style:{height:"75vh"},className:"valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(le.a,{style:{width:"100%"}},l.a.createElement(le.a.Header,null,l.a.createElement(Y.a,{variant:"light"},l.a.createElement("h4",null,"My Profile"))),l.a.createElement(le.a.Body,null,l.a.createElement(le.a.Text,null,e))))))}}]),t}(n.Component),ce=Object(b.b)((function(e){return{auth:e.auth,errors:e.errors}}))(se),ue=a(5),me=Object(b.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(ue.a)(e,["component","auth"]);return l.a.createElement(s.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?l.a.createElement(t,e):l.a.createElement(s.a,{to:"/login"})}}))})),de=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={userdetails:[]},a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;m.a.get("http://localhost:4000/user/"+t.id).then((function(t){e.setState({userdetails:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this.props.auth.user;return e="applicant"===this.state.userdetails.role?l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"/profile"},"My Profile")),l.a.createElement("li",null,l.a.createElement("a",{href:"/addJob"},"Add traineeship")),l.a.createElement("li",null,l.a.createElement("a",{href:"/viewMyActiveJobs"},"My Job Listings")),l.a.createElement("li",null,l.a.createElement("a",{href:"/myApplications"},"My Applications"))):l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"/profile"},"My Profile")),l.a.createElement("li",null,l.a.createElement("a",{href:"/jobsList"},"View Jobs"))),l.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement("h6",null),l.a.createElement(le.a,{style:{width:"100%"}},l.a.createElement(le.a.Header,null,l.a.createElement("h4",null,l.a.createElement("b",null,"Hey ",t.name.split(" ")[0]," !"))),l.a.createElement(le.a.Body,null,l.a.createElement(le.a.Title,null,l.a.createElement("p",{className:"flow-text grey-text text-darken-1"},"You are logged into the app")),l.a.createElement(le.a.Text,null,e))),l.a.createElement("br",null),l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.onLogoutClick,className:"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3"},"Logout"))))}}]),t}(n.Component),pe=Object(b.b)((function(e){return{auth:e.auth}}),{logoutUser:h})(de),he=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t,n,l=a.props.auth.user,r={school:a.state.school,degree:a.state.degree,startdate:a.state.startdate,enddate:a.state.enddate};r.startdate&&r.enddate&&(t=new Date(r.startdate),n=new Date(r.enddate)),r.startdate&&""!==r.school&&""!==r.degree?r.enddate&&n<t?alert("End date cannot be before start date."):(a.state.userDetails.education.push(r),m.a.put("http://localhost:4000/user/edit_profile/"+l.id,a.state.userDetails).then((function(e){console.log(a.state.userDetails),a.props.history.push("/profile")})).catch((function(e){console.log(e)}))):alert("School, Degree and Start Date are required!")},a.state={newed:[],role:"",school:"",degree:"",startdate:new Date,userDetails:[],errors:{}},a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;m.a.get("http://localhost:4000/user/"+t.id).then((function(t){e.setState({userDetails:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e;return"applicant"===this.state.userDetails.role&&(e=l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"school"},"School"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.school,id:"school",type:"text"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"degree"},"Degree"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.degree,id:"degree",type:"text"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"startdate"},"Start Date"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.startdate,id:"startdate",type:"date"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"enddate"},"End Date"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:this.state.enddate,id:"enddate",type:"date"})),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3"},"Save")))),l.a.createElement("div",{style:{height:"75vh"},className:"valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(le.a,{style:{width:"100%"}},l.a.createElement(le.a.Body,null,l.a.createElement(le.a.Text,null,e))))))}}]),t}(n.Component),be=Object(b.b)((function(e){return{auth:e.auth,errors:e.errors}}))(he),fe=a(190),Ee=a(191),ge=a(112),ve=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.onFilter=function(e){var t=a.state.jobTypeFilterVal,n=a.state.salaryFilterMinVal,l=a.state.salaryFilterMaxVal,r="";""!==a.state.durationFilterVal&&(r=parseInt(a.state.durationFilterVal));var o=a.state.extraJobs;""!==t&&void 0!==t&&(o=o.filter((function(e){return e.type===t}))),""!==n&&void 0!==n&&(o=o.filter((function(e){return e.salary>=n}))),""!==l&&void 0!==l&&(o=o.filter((function(e){return e.salary<l}))),""!==r&&void 0!==r&&(o=o.filter((function(e){return e.duration<r}))),a.setState({jobs:o})},a.onSearch=function(e){a.setState({searchval:e.target.value});var t=a.state.searchval;if(""===t||void 0===t)a.setState({jobs:a.state.extraJobs});else{var n=new ge.a(a.state.jobs,{keys:["title"]}).search(t),l=n.length,r=0,o=[];for(r=0;r<l;r++)o.push(n[r].item);a.setState({jobs:o})}},a.state={userdetails:[],jobs:[],extraJobs:[],applications:[],sortName:!0,recruiterName:"",showform:!1,editing:"",enteredsop:"",sopError:"",sortbysalary:!0,sortbyduration:!0,sortbyrating:!0,searchval:"",jobTypeFilterVal:"",salaryFilterMinVal:"",salaryFilterMaxVal:"",durationFilterVal:""},a.renderSalaryIcon=a.renderSalaryIcon.bind(Object(_.a)(a)),a.renderDurationIcon=a.renderDurationIcon.bind(Object(_.a)(a)),a.renderRatingIcon=a.renderRatingIcon.bind(Object(_.a)(a)),a.sortBySalary=a.sortBySalary.bind(Object(_.a)(a)),a.sortByDuration=a.sortByDuration.bind(Object(_.a)(a)),a.sortByRating=a.sortByRating.bind(Object(_.a)(a)),a.onSearch=a.onSearch.bind(Object(_.a)(a)),a.onChange=a.onChange.bind(Object(_.a)(a)),a.apply=a.apply.bind(Object(_.a)(a)),a.onSOPsubmit=a.onSOPsubmit.bind(Object(_.a)(a)),a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;this.setState({showform:!1}),m.a.get("http://localhost:4000/user/"+t.id).then((function(t){e.setState({userdetails:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/job/get_jobs").then((function(t){e.setState({jobs:t.data,extraJobs:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/application/get_applications").then((function(t){e.setState({applications:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"sortBySalary",value:function(){var e=this.state.jobs,t=this.state.sortbysalary;e.sort((function(e,a){return void 0!==e.salary&&void 0!==a.salary?(1-2*+t)*(+e.salary-+a.salary):1})),this.setState({jobs:e,sortbysalary:!this.state.sortbysalary})}},{key:"sortByDuration",value:function(){var e=this.state.jobs,t=this.state.sortbyduration;e.sort((function(e,a){return void 0!==e.duration&&void 0!==a.duration?(1-2*+t)*(+e.duration-+a.duration):1})),this.setState({jobs:e,sortbyduration:!this.state.sortbyduration})}},{key:"sortByRating",value:function(){var e=this.state.jobs,t=this.state.sortbyrating;e.sort((function(e,a){return void 0!==e.rating&&void 0!==a.rating?(1-2*+t)*(+e.rating-+a.rating):1})),this.setState({jobs:e,sortbyrating:!this.state.sortbyrating})}},{key:"renderSalaryIcon",value:function(){return this.state.sortbysalary?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"renderDurationIcon",value:function(){return this.state.sortbyduration?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"renderRatingIcon",value:function(){return this.state.sortbyrating?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"applied",value:function(e){var t=this.props.auth.user;return this.state.applications.filter((function(a){return a.jobId===e._id&&a.applicantId===t.id&&("Applied"===a.status||"Shortlisted"===a.status||"Accepted"===a.status)})).length>0}},{key:"apply",value:function(e){if(this.state.userdetails.numapp>=10)alert("Maximum open applications of 10 reached. Take a break!");else if(!0===this.state.userdetails.working)alert("You are already accepted into one of the jobs you applied for. Check My Applications page.");else{var t=!this.state.showform;this.setState({showform:t});var a=e._id;this.setState({editing:a}),console.log(this.state.showform),this.props.history.push("/jobsList"),this.props.history.goBack()}}},{key:"onSOPsubmit",value:function(e){var t=this.props.auth.user,a={jobId:e._id,applicantId:t.id,recruiterId:e.recruiter,stage:0,status:"Applied",sop:this.state.enteredsop,salary:e.salary,recruiterName:e.recruiterName,rating:-1,title:e.title},n={numapp:+e.numapp+1},l={numapp:+this.state.userdetails.numapp+1},r=this.state.enteredsop.split(" ").length,o="";r>250&&(o="Maximum 250 words allowed.",this.setState({sopError:o})),r<=250&&this.state.userdetails.numapp<=10?(m.a.post("http://localhost:4000/application/add_application",a).then((function(e){console.log(a),alert("Application sent successfully!")})).catch((function(e){console.log(e),alert("Application could not be sent.")})),m.a.put("http://localhost:4000/job/edit_job/"+e._id,n).then((function(e){console.log(n)})).catch((function(e){console.log(e)})),m.a.put("http://localhost:4000/user/edit_profile/"+t.id,l).then((function(e){console.log(l)})).catch((function(e){console.log(e)})),this.setState({editting:""}),this.props.history.push("/jobsList"),this.props.history.push("/"),this.props.history.goBack()):alert("SOP cannot have more than 250 words.")}},{key:"accept",value:function(e){var t=this.getjob(e.jobId);if(t.numpos!==t.posmax){t.numpos===t.posmax-1&&this.state.applications.filter((function(t){return t.applicantId!==e.applicantId&&t.jobId===e.jobId&&"Deleted"!==t.status&&"Accepted"!==t.status})).forEach((function(e){var t={status:"Rejected"};m.a.put("http://localhost:4000/application/edit_application/"+e._id,t).then((function(e){console.log(t)})).catch((function(e){console.log(e)}))}));var a=+t.numpos+1,n={working:!0,numapp:0},l={numpos:a},r={status:"Accepted",doj:new Date};m.a.put("http://localhost:4000/job/edit_job/"+t._id,l).then((function(e){console.log(l)})).catch((function(e){console.log(e)})),m.a.put("http://localhost:4000/application/edit_application/"+e._id,r).then((function(e){console.log(r)})).catch((function(e){console.log(e)})),m.a.put("http://localhost:4000/user/edit_profile/"+e.applicantId,n).then((function(e){console.log(n)})).catch((function(e){console.log(e)}));this.state.jobs;this.state.applications.filter((function(t){return t.applicantId===e.applicantId&&t._id!==e._id&&"Deleted"!==t.status})).forEach((function(e){var t={status:"Rejected"};m.a.put("http://localhost:4000/application/edit_application/"+e._id,t).then((function(e){console.log(t)})).catch((function(e){console.log(e)}))})),this.props.history.push("/appList"),this.props.history.push("/"),this.props.history.goBack()}else alert("All positions are filled!")}},{key:"reject",value:function(e){var t=+this.getapplicant(e.applicantId).numapp-1;t<0&&(t=0);var a={numapp:t},n={status:"Rejected"};m.a.put("http://localhost:4000/application/edit_application/"+e._id,n).then((function(e){console.log(n)})).catch((function(e){console.log(e)})),m.a.put("http://localhost:4000/user/edit_profile/"+e.applicantId,a).then((function(e){console.log(a)})).catch((function(e){console.log(e)})),this.props.history.push("/appList"),this.props.history.push("/appList"),this.props.history.goBack()}},{key:"render",value:function(){this.props.auth.user,this.state.userdetails.role;var e,t=["January","February","March","April","May","June","July","August","September","October","November","December"];return e=l.a.createElement("div",null,l.a.createElement(A.a,{container:!0},l.a.createElement(A.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(fe.a,{component:"nav","aria-label":"mailbox folders"},l.a.createElement(Ee.a,{text:!0},l.a.createElement("h3",null,"Active Jobs"))))),l.a.createElement(A.a,{container:!0},l.a.createElement(A.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(I.a,null,l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(T.a,null,l.a.createElement(R.a,null,"Title"),l.a.createElement(R.a,null,"Type"),l.a.createElement(R.a,null,l.a.createElement(M.a,{onClick:this.sortBySalary},this.renderSalaryIcon()),"Salary (per month)"),l.a.createElement(R.a,null,l.a.createElement(M.a,{onClick:this.sortByDuration},this.renderDurationIcon()),"Duration(months): 0 for Indefinite"),l.a.createElement(R.a,null,"Date of posting"),l.a.createElement(R.a,null,"Deadline"))),l.a.createElement(J.a,null,this.state.jobs.filter((function(e){return(new Date).getTime()<=new Date(e.deadline.substring(0,10)).getTime()})).map((function(e,a){return l.a.createElement(T.a,{key:a},l.a.createElement(R.a,null,e.title),l.a.createElement(R.a,null,"partTime"===e.type?"Part-Time":"","fullTime"===e.type?"Full-Time":"","wfh"===e.type?"Work from Home":""),l.a.createElement(R.a,null,e.salary),l.a.createElement(R.a,null,e.duration),l.a.createElement(R.a,null,"Day-",new Date(e.dateOfPost).getDate(),", Month-",t[new Date(e.dateOfPost).getMonth()],", Year-",new Date(e.dateOfPost).getFullYear()),l.a.createElement(R.a,null,e.deadline.substring(0,10)),l.a.createElement(i.b,{to:{pathname:"/appList",state:e._id}},"View applications"))})))))))),l.a.createElement("div",{style:{height:"75vh"},className:"valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(le.a,{style:{width:"100%"}},l.a.createElement(le.a.Body,null,l.a.createElement(le.a.Text,null,e))))))}}]),t}(n.Component),ye=Object(b.b)((function(e){return{auth:e.auth,errors:e.errors}}))(ve),je=a(195),we=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.state={userdetails:[],applications:[],rating:0},a.giveRating=a.giveRating.bind(Object(_.a)(a)),a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"giveRating",value:function(e){this.setState({rating:e.target.value})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;m.a.get("http://localhost:4000/user/"+t.id).then((function(t){e.setState({userdetails:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/job/get_jobs").then((function(t){e.setState({jobs:t.data,sortedJobs:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/application/get_applications").then((function(t){e.setState({applications:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"rated",value:function(e){return-1!==e.rating}},{key:"getjob",value:function(e){return this.state.jobs.filter((function(t){return t._id===e}))[0]}},{key:"rate",value:function(e){var t=this.getjob(e.jobId),a=t.numrate;a+=1;var n={rating:-1===t.rating?this.state.rating:(+t.rating*(+a-1)+ +this.state.rating)/+a,numrate:a},l={rating:this.state.rating};m.a.put("http://localhost:4000/job/edit_job/"+t._id,n).then((function(e){console.log(n),alert("Job rated successfully!")})).catch((function(e){console.log(e),alert("Job could not be rated.")})),m.a.put("http://localhost:4000/application/edit_application/"+e._id,l).then((function(e){console.log(l)})).catch((function(e){console.log(e)})),window.location.reload()}},{key:"render",value:function(){var e,t=this,a=this.props.auth.user;return"applicant"===this.state.userdetails.role&&(e=l.a.createElement("div",null,l.a.createElement(A.a,{container:!0},l.a.createElement(A.a,{item:!0,xs:12,md:3,lg:3},l.a.createElement(fe.a,{component:"nav","aria-label":"mailbox folders"},l.a.createElement(Ee.a,{text:!0},l.a.createElement("h3",null,"My Applications"))))),l.a.createElement(A.a,{container:!0},l.a.createElement(A.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(I.a,null,l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(T.a,null,l.a.createElement(R.a,null,"Title"),l.a.createElement(R.a,null,"Status"),l.a.createElement(R.a,null,"Date of Joining"),l.a.createElement(R.a,null,"Salary (per month)"))),l.a.createElement(J.a,null,this.state.applications.filter((function(e){return e.applicantId===a.id})).map((function(e,a){return l.a.createElement(T.a,{key:a},l.a.createElement(R.a,null,e.title),l.a.createElement(R.a,null,e.status),l.a.createElement(R.a,null,e.doj?e.doj.substring(0,10):""),l.a.createElement(R.a,null,e.salary),t.rated(e)||"Accepted"!==e.status?l.a.createElement(R.a,null,l.a.createElement("div",null,-1!==e.rating?"Rated":"")):l.a.createElement(R.a,null,l.a.createElement(je.a,{value:t.state.rating,onChange:t.giveRating}),l.a.createElement(re.a,{title:"Rate this job","aria-label":"apply"},l.a.createElement("button",{className:"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.rate(e)}},"Rate"))))}))))))))),l.a.createElement("div",{style:{height:"75vh"},className:"valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(le.a,{style:{width:"100%"}},l.a.createElement(le.a.Body,null,l.a.createElement(le.a.Text,null,e))))))}}]),t}(n.Component),ke=Object(b.b)((function(e){return{auth:e.auth,errors:e.errors}}))(we),Se=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).validate=function(){var e="",t="",n="",l="",r="",o="",i="";return""===a.state.title&&(e="Title cannot be blank"),""===a.state.type&&(t="Select type of job"),-1===a.state.duration&&(n="Select duration of job"),-1===a.state.salary&&(l="Enter Salary"),""===a.state.address&&(r="Address cannot be blank"),new Date(a.state.deadline)<(new Date).getTime()&&(o="Deadline cannot be before tomorrow"),a.state.appmax<a.state.posmax&&(i="Maximum number of applications cannot be less than maximum number of positions."),!(e||t||n||l||r||o||i)||(a.setState({titleError:e,typeError:t,durationError:n,salaryError:l,addressError:r,deadlineError:o,appmaxError:i}),!1)},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state;t.skills=a.state.skillstr.split(","),""!==t.durationstr&&(t.duration=parseInt(t.durationstr));var n={recruiter:a.state.userdetails,recruiterName:a.state.userdetails.name,title:t.title,description:t.description,type:t.type,duration:t.duration,salary:t.salary,posmax:t.posmax,appmax:t.appmax,numpos:t.numpos,numapp:t.numapp,app:t.app,address:t.address,skills:t.skills,rating:t.rating,numrate:t.numrate,dateOfPost:t.dateOfPost,deadline:t.deadline};a.validate()&&m.a.post("http://localhost:4000/job/add_job",n).then((function(e){console.log(n),alert("Job added successfully!"),a.props.history.push("/viewMyActiveJobs"),a.props.history.push("/viewMyActiveJobs"),a.props.history.goBack()})).catch((function(e){console.log(e),alert("Job NOT added successfully!")}))},a.state={userdetails:[],recruiter:[],recruiterName:"",title:"",titleError:"",description:"",type:"",typeError:"",duration:-1,durationError:"",durationstr:"",salary:-1,salaryError:"",posmax:1,appmax:10,appmaxError:"",numpos:0,numapp:0,app:0,address:"",addressError:"",skills:[],skillstr:"",rating:0,numrate:0,dateOfPost:new Date,deadline:new Date((new Date).getTime()+864e7),deadlineError:""},a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;m.a.get("http://localhost:4000/user/"+t.id).then((function(t){e.setState({userdetails:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e,t=this.state;return"applicant"===this.state.userdetails.role&&(e=l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("h3",null,"Add traineeship"),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.title,id:"title",type:"text"}),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.titleError)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"description"},"Description"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.description,id:"description",type:"text"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"type"},"Type"),l.a.createElement("br",null),l.a.createElement("select",{value:this.state.type,onChange:this.onChange,id:"type"},l.a.createElement("option",{value:""},"Select type"),l.a.createElement("option",{value:"fullTime"},"Full-time"),l.a.createElement("option",{value:"partTime"},"Part-time")),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.typeError)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"salary"},"Salary"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.salary,id:"salary",type:"number",min:"-1"}),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.salaryError)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"durationstr"},"Duration"),l.a.createElement("br",null),l.a.createElement("select",{value:this.state.durationstr,onChange:this.onChange,id:"durationstr"},l.a.createElement("option",{value:""},"Select duration"),l.a.createElement("option",{value:"0"},"Indefinite"),l.a.createElement("option",{value:"1"},"1 month"),l.a.createElement("option",{value:"2"},"2 months"),l.a.createElement("option",{value:"3"},"3 months"),l.a.createElement("option",{value:"4"},"4 months"),l.a.createElement("option",{value:"5"},"5 months"),l.a.createElement("option",{value:"6"},"6 months")),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.durationError)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"address"},"Address"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.address,id:"address",type:"text"}),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.addressError)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"skillstr"},"Skills"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.skillstr,id:"skillstr",type:"text"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"deadline"},"Deadline (default: 100 days from now)"),l.a.createElement("br",null),l.a.createElement("input",{onChange:this.onChange,value:t.deadline,id:"deadline",type:"date"}),l.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.deadlineError)),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3"},"Add traineeship")))),l.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(le.a,{style:{width:"100%"}},l.a.createElement(le.a.Body,null,l.a.createElement(le.a.Text,null,e))))))}}]),t}(n.Component),Ne=Object(b.b)((function(e){return{auth:e.auth,errors:e.errors}}))(Se),Oe=a(56),xe=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.state={enteredsop:"",userdetails:[],users:[],applications:[],jobs:[],sortedJobs:[],sortName:!0,showform:!1,posmax:-1,appmax:-1,title:"",deadline:new Date,editing:""},a.deljob=a.deljob.bind(Object(_.a)(a)),a.editJob=a.editJob.bind(Object(_.a)(a)),a.editJobSubmit=a.editJobSubmit.bind(Object(_.a)(a)),a.apply=a.apply.bind(Object(_.a)(a)),a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;m.a.get("http://localhost:4000/user/"+t.id).then((function(t){e.setState({userdetails:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/job/get_jobs").then((function(t){e.setState({jobs:t.data,sortedJobs:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/user/").then((function(t){e.setState({users:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/application/get_applications").then((function(t){e.setState({applications:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"getjob",value:function(e){return this.state.jobs.filter((function(t){return t._id===e}))[0]}},{key:"deljob",value:function(e){var t=this.state.applications,a=this.state.users;m.a.delete("http://localhost:4000/job/del_job/"+e).then((function(e){alert("Job deleted successfully.")})).catch((function(e){console.log(e)})),t.filter((function(t){return t.jobId===e&&"Accepted"===t.status})).forEach((function(e){var t={working:!1};m.a.put("http://localhost:4000/user/edit_profile/"+e.applicantId,t).then((function(e){console.log(t)})).catch((function(e){console.log(e)}))})),t.filter((function(t){return t.jobId===e})).forEach((function(e){var t=a.filter((function(t){return t._id===e.applicantId}))[0],n=+t.numapp;!1===t.working&&(n=+n-1)<0&&(n=0);var l={numapp:n};m.a.put("http://localhost:4000/user/edit_profile/"+e.applicantId,l).then((function(e){console.log(l)})).catch((function(e){console.log(e)}));var r={status:"Deleted"};m.a.put("http://localhost:4000/application/edit_application/"+e._id,r).then((function(e){console.log(r)})).catch((function(e){console.log(e)}))})),this.props.history.push("/viewMyActiveJobs"),this.props.history.push("/viewMyActiveJobs"),this.props.history.goBack(),window.location.reload()}},{key:"editJob",value:function(e){var t=!this.state.showform;this.setState({showform:t}),this.setState({editing:e._id}),console.log(this.state.showform),this.setState({title:e.title}),this.setState({appmax:e.appmax}),this.setState({posmax:e.posmax}),e.deadline&&(e.deadline=e.deadline.toString(),e.deadline=e.deadline.substring(0,10),this.setState({deadline:e.deadline}))}},{key:"onBack",value:function(){var e=!this.state.showform;this.setState({showform:e}),this.setState({editing:""}),this.props.history.push("/viewMyActiveJobs")}},{key:"editJobSubmit",value:function(e){var t=this,a=e._id,n=this.state,l={recruiter:this.state.userdetails,recruiterName:this.state.userdetails.name,title:n.title};m.a.put("http://localhost:4000/job/edit_job/"+a,l).then((function(e){console.log(l),alert("Job added successfully!"),t.props.history.push("/viewMyActiveJobs"),t.props.history.goBack()})).catch((function(e){alert("Job couldn't be updated!"),console.log(e)}));var r=!this.state.showform;this.setState({showform:r})}},{key:"applied",value:function(e){var t=this.props.auth.user;return this.state.applications.filter((function(a){return a.jobId===e._id&&a.applicantId===t.id&&("Applied"===a.status||"Shortlisted"===a.status||"Accepted"===a.status)})).length>0}},{key:"apply",value:function(e){if(this.state.userdetails.numapp>=10)alert("Maximum open applications of 10 reached. Take a break!");else if(!0===this.state.userdetails.working)alert("You are already accepted into one of the jobs you applied for. Check My Applications page.");else{var t=!this.state.showform;this.setState({showform:t});var a=e._id;this.setState({editing:a}),console.log(this.state.showform),this.props.history.push("/"),this.props.history.goBack()}}},{key:"onSOPsubmit",value:function(e){var t=this.props.auth.user,a={jobId:e._id,applicantId:t.id,recruiterId:e.recruiter,stage:0,status:"Applied",sop:this.state.enteredsop,salary:e.salary,recruiterName:e.recruiterName,rating:-1,title:e.title},n={numapp:+e.numapp+1},l={numapp:+this.state.userdetails.numapp+1},r=this.state.enteredsop.split(" ").length,o="";r>250&&(o="Maximum 250 words allowed.",this.setState({sopError:o})),r<=250&&this.state.userdetails.numapp<=10?(m.a.post("http://localhost:4000/application/add_application",a).then((function(e){console.log(a),alert("Application sent successfully!")})).catch((function(e){console.log(e),alert("Application could not be sent.")})),m.a.put("http://localhost:4000/job/edit_job/"+e._id,n).then((function(e){console.log(n)})).catch((function(e){console.log(e)})),m.a.put("http://localhost:4000/user/edit_profile/"+t.id,l).then((function(e){console.log(l)})).catch((function(e){console.log(e)})),this.setState({editting:""}),this.props.history.push("/"),this.props.history.goBack()):alert("SOP cannot have more than 250 words.")}},{key:"render",value:function(){var e,t=this,a=this.state.userdetails.role,n=this.state.userdetails._id;return"applicant"===a&&(e=l.a.createElement("div",null,l.a.createElement(A.a,null,l.a.createElement(A.a,{item:!0,xs:12,md:3,lg:3},l.a.createElement(fe.a,{component:"nav","aria-label":"mailbox folders"},l.a.createElement(Ee.a,{text:!0},l.a.createElement("h3",null,"My Jobs Listing "),l.a.createElement(re.a,{title:"Add Job","aria-label":"added"},l.a.createElement(i.b,{style:{color:"#009900",weight:"bold"},to:"/addJob"},l.a.createElement("i",{className:"material-icons"},l.a.createElement("h2",null," add")))))))),l.a.createElement(A.a,{container:!0},l.a.createElement(A.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(I.a,null,l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(T.a,null,l.a.createElement(R.a,null,"Title"),l.a.createElement(R.a,null,"Date of posting"),l.a.createElement(R.a,null,"Number of Applicants"),l.a.createElement(R.a,null,"Remaining Number of Positions"),l.a.createElement(R.a,null))),l.a.createElement(J.a,null,this.state.jobs.filter((function(e){return e.recruiter===n&&e.numpos<e.posmax})).map((function(e,a){return l.a.createElement(T.a,{key:a},l.a.createElement(R.a,null,e.title),l.a.createElement(R.a,null,e.dateOfPost.substring(0,10)),l.a.createElement(R.a,null,e.numapp),l.a.createElement(R.a,null,e.posmax-e.numpos),t.applied(e)||e._id===t.state.editing||e.numpos>=e.posmax||e.numapp>=e.appmax?l.a.createElement("div",null):l.a.createElement(R.a,null,l.a.createElement(re.a,{title:"Apply for this job","aria-label":"apply"},l.a.createElement("button",{className:"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.apply(e)}},"Apply"))),t.applied(e)?l.a.createElement(R.a,null,l.a.createElement(re.a,{title:"Applied for this job","aria-label":"applied"},l.a.createElement("button",{className:"btn btn-secondary btn-sm waves-effect waves-light hoverable blue accent-3"},"Applied"))):l.a.createElement("div",null),(e.numpos>=e.posmax||e.numapp>=e.appmax)&&!t.applied(e)?l.a.createElement(R.a,null,l.a.createElement(re.a,{title:"No vacancy","aria-label":"full"},l.a.createElement("button",{className:"btn btn-danger disabled btn-sm waves-effect waves-light hoverable blue accent-3"},"Full"))):l.a.createElement("div",null),!0===t.state.showform&&e._id===t.state.editing?l.a.createElement(R.a,null,l.a.createElement("div",null,l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"enteredsop"},"Enter SOP:"),l.a.createElement("br",null),l.a.createElement("input",{onChange:t.onChange,value:t.state.enteredsop,id:"enteredsop",type:"text"})),l.a.createElement("button",{className:"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.onSOPsubmit(e)}},"Submit"))):l.a.createElement(R.a,null),l.a.createElement(R.a,null,l.a.createElement(Oe.a,null,l.a.createElement(Oe.a.Toggle,{variant:"secondary"}),l.a.createElement(Oe.a.Menu,null,l.a.createElement(Oe.a.Item,null,l.a.createElement(re.a,{title:"Delete Job","aria-label":"delete"},l.a.createElement("button",{className:"btn waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.deljob(e._id)}},l.a.createElement("i",{style:{color:"#FF0000"},className:"material-icons"},"delete")," Delete"))),l.a.createElement(Oe.a.Item,null,l.a.createElement(re.a,{title:"Edit Job","aria-label":"edit"},l.a.createElement("button",{className:"btn waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.editJob(e)}},l.a.createElement("i",{style:{color:"#0000FF"},className:"material-icons"},"edit"),"Edit")))))),l.a.createElement(R.a,null,l.a.createElement("div",null,t.state.showform&&t.state.editing===e._id?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("form",{noValidate:!0,onSubmit:t.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("br",null),l.a.createElement("input",{onChange:t.onChange,value:t.state.title,id:"title",type:"text",min:"0"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"appmax"},"Maximum number of applications allowed"),l.a.createElement("br",null),l.a.createElement("input",{onChange:t.onChange,value:t.state.appmax,id:"appmax",type:"number",min:"0"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"posmax"},"Maximum number of positions available"),l.a.createElement("br",null),l.a.createElement("input",{onChange:t.onChange,value:t.state.posmax,id:"posmax",type:"number",min:"0"})),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"deadline"},"Deadline for application"),l.a.createElement("br",null),l.a.createElement("input",{onChange:t.onChange,value:t.state.deadline,id:"deadline",type:"date"})),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{style:{color:"#0000FF"},className:"btn btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.onBack()}},l.a.createElement("b",null,"Back")),l.a.createElement("button",{style:{color:"#009900"},className:"btn btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.editJobSubmit(e)}},l.a.createElement("b",null,"Save"))))):l.a.createElement("div",null))))}))))))))),l.a.createElement("div",{style:{height:"75vh"},className:"valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(le.a,{style:{width:"100%"}},l.a.createElement(le.a.Body,null,l.a.createElement(le.a.Text,null,e))))))}}]),t}(n.Component),Ce=Object(b.b)((function(e){return{auth:e.auth,errors:e.errors}}))(xe),_e=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.state={userdetails:[],users:[],jobs:[],applications:[],rating:0,sortbyname:!0,sortbydateofapply:!0,sortbyrating:!0},a.renderNameIcon=a.renderNameIcon.bind(Object(_.a)(a)),a.renderDateOfApplyIcon=a.renderDateOfApplyIcon.bind(Object(_.a)(a)),a.renderRatingIcon=a.renderRatingIcon.bind(Object(_.a)(a)),a.sortByName=a.sortByName.bind(Object(_.a)(a)),a.sortByDateOfApply=a.sortByDateOfApply.bind(Object(_.a)(a)),a.sortByRating=a.sortByRating.bind(Object(_.a)(a)),a.accept=a.accept.bind(Object(_.a)(a)),a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;m.a.get("http://localhost:4000/user/"+t.id).then((function(t){e.setState({userdetails:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/job/get_jobs").then((function(t){e.setState({jobs:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/user/").then((function(t){e.setState({users:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/application/get_applications").then((function(t){e.setState({applications:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"getjob",value:function(e){return this.state.jobs.filter((function(t){return t._id===e}))[0]}},{key:"getapplicant",value:function(e){return this.state.users.filter((function(t){return t._id===e}))[0]}},{key:"sortByName",value:function(){var e=this.state.applications,t=this.state.sortbyname,a=this.state.users;function n(e){return a.filter((function(t){return t._id===e}))[0]}e.sort((function(e,a){console.log(e.applicantId);var l=n(e.applicantId),r=n(a.applicantId);return void 0!==l.name&&void 0!==r.name?(1-2*+t)*l.name.localeCompare(r.name):1})),this.setState({applications:e,sortbyname:!this.state.sortbyname})}},{key:"sortByDateOfApply",value:function(){var e=this.state.applications,t=this.state.sortbydateofapply;e.sort((function(e,a){return void 0!==e.dateOfApply&&void 0!==a.dateOfApply?(1-2*+t)*(new Date(e.dateOfApply)-new Date(a.dateOfApply)):1})),this.setState({applications:e,sortbydateofapply:!this.state.sortbydateofapply})}},{key:"sortByRating",value:function(){var e=this.state.applications,t=this.state.sortbyrating,a=this.state.users;function n(e){return a.filter((function(t){return t._id===e}))[0]}e.sort((function(e,a){var l=n(e.applicantId),r=n(a.applicantId);return void 0!==l.rating&&void 0!==r.rating?(1-2*+t)*(+l.rating-+r.rating):1})),this.setState({applications:e,sortbyrating:!this.state.sortbyrating})}},{key:"renderNameIcon",value:function(){return this.state.sortbyname?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"renderDateOfApplyIcon",value:function(){return this.state.sortbydateofapply?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"renderRatingIcon",value:function(){return this.state.sortbyrating?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"shortlist",value:function(e){var t={status:"Shortlisted"};m.a.put("http://localhost:4000/application/edit_application/"+e._id,t).then((function(e){console.log(t)})).catch((function(e){console.log(e)})),window.location.reload()}},{key:"accept",value:function(e){var t=this.getjob(e.jobId);if(t.numpos!==t.posmax){t.numpos===t.posmax-1&&this.state.applications.filter((function(t){return t.applicantId!==e.applicantId&&t.jobId===e.jobId&&"Deleted"!==t.status&&"Accepted"!==t.status})).forEach((function(e){var t={status:"Rejected"};m.a.put("http://localhost:4000/application/edit_application/"+e._id,t).then((function(e){console.log(t)})).catch((function(e){console.log(e)}))}));var a=+t.numpos+1,n={working:!0,numapp:0},l={numpos:a},r={status:"Accepted",doj:new Date};m.a.put("http://localhost:4000/job/edit_job/"+t._id,l).then((function(e){console.log(l)})).catch((function(e){console.log(e)})),m.a.put("http://localhost:4000/application/edit_application/"+e._id,r).then((function(e){console.log(r)})).catch((function(e){console.log(e)})),m.a.put("http://localhost:4000/user/edit_profile/"+e.applicantId,n).then((function(e){console.log(n)})).catch((function(e){console.log(e)}));this.state.jobs;this.state.applications.filter((function(t){return t.applicantId===e.applicantId&&t._id!==e._id&&"Deleted"!==t.status})).forEach((function(e){var t={status:"Rejected"};m.a.put("http://localhost:4000/application/edit_application/"+e._id,t).then((function(e){console.log(t)})).catch((function(e){console.log(e)}))})),this.props.history.push("/appList"),this.props.history.push("/"),this.props.history.goBack()}else alert("All positions are filled!")}},{key:"reject",value:function(e){var t=+this.getapplicant(e.applicantId).numapp-1;t<0&&(t=0);var a={numapp:t},n={status:"Rejected"};m.a.put("http://localhost:4000/application/edit_application/"+e._id,n).then((function(e){console.log(n)})).catch((function(e){console.log(e)})),m.a.put("http://localhost:4000/user/edit_profile/"+e.applicantId,a).then((function(e){console.log(a)})).catch((function(e){console.log(e)})),this.props.history.push("/appList"),this.props.history.push("/appList"),this.props.history.goBack()}},{key:"render",value:function(){var e,t=this,a=this.props.auth.user;this.state.userdetails.role;return e=l.a.createElement("div",null,l.a.createElement(A.a,null,l.a.createElement(A.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(fe.a,{component:"nav","aria-label":"mailbox folders"},l.a.createElement(Ee.a,{text:!0},l.a.createElement("h3",null,"Applications"))))),l.a.createElement(A.a,null,l.a.createElement(A.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(T.a,null,l.a.createElement(R.a,null,"Title"),l.a.createElement(R.a,null,"Applicant ",l.a.createElement(M.a,{onClick:this.sortByName},this.renderNameIcon())),l.a.createElement(R.a,null,"Appl. Rating ",l.a.createElement(M.a,{onClick:this.sortByRating},this.renderRatingIcon())),l.a.createElement(R.a,null,"Appl. Skills"),l.a.createElement(R.a,null,l.a.createElement("ul",null,l.a.createElement("li",null,"Education"))),l.a.createElement(R.a,null,"SOP"),l.a.createElement(R.a,null,"Status"),l.a.createElement(R.a,null,"Date of Application ",l.a.createElement(M.a,{onClick:this.sortByDateOfApply},this.renderDateOfApplyIcon())),l.a.createElement(R.a,null),l.a.createElement(R.a,null),l.a.createElement(R.a,null))),l.a.createElement(J.a,null,this.state.applications.filter((function(e){return"Rejected"!==e.status&&e.recruiterId===a.id&&e.jobId===t.props.location.state})).map((function(e,a){return l.a.createElement(T.a,{key:a},l.a.createElement(R.a,null,e.title),t.state.users.filter((function(t){return t._id===e.applicantId})).map((function(e,t){return l.a.createElement(R.a,{key:t},e.name)})),t.state.users.filter((function(t){return t._id===e.applicantId})).map((function(e,t){return l.a.createElement(R.a,{key:t},e.rating?e.rating.toFixed(1):"",l.a.createElement("i",{className:"material-icons"},l.a.createElement("h6",null," star")))})),t.state.users.filter((function(t){return t._id===e.applicantId})).map((function(e,t){return l.a.createElement(R.a,{key:t},e.skills.join(", "))})),t.state.users.filter((function(t){return t._id===e.applicantId})).map((function(e,t){return l.a.createElement(R.a,{key:t},e.education.map((function(e){return l.a.createElement("ul",null,l.a.createElement("li",null,"School: ",e.school),l.a.createElement("li",null,"Degree: ",e.degree),l.a.createElement("li",null,"Start date: ",e.startdate?e.startdate.toString().substring(0,10):"NA"),l.a.createElement("li",null,"End date: ",e.enddate?e.enddate.toString().substring(0,10):"NA"))})))})),l.a.createElement(R.a,null,e.sop),l.a.createElement(R.a,null,e.status),l.a.createElement(R.a,null,e.dateOfApplication.substring(0,10)),"Applied"===e.status?l.a.createElement(R.a,null,l.a.createElement(re.a,{title:"Shortlist Candidate","aria-label":"apply"},l.a.createElement("button",{className:"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.shortlist(e)}},"Shortlist"))):l.a.createElement("div",null),"Shortlisted"===e.status?l.a.createElement(R.a,null,l.a.createElement(re.a,{title:"Accept Candidate","aria-label":"apply"},l.a.createElement("button",{className:"btn btn-success btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.accept(e)}},"Accept"))):l.a.createElement("div",null),"Accepted"===e.status?l.a.createElement(R.a,null,l.a.createElement(re.a,{title:"Reject Candidate","aria-label":"apply"},l.a.createElement("button",{className:"btn btn-secondary btn-sm waves-effect waves-light hoverable blue accent-3"},"Accepted"))):l.a.createElement(R.a,null,l.a.createElement(re.a,{title:"Rate this job","aria-label":"apply"},l.a.createElement("button",{className:"btn btn-danger btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.reject(e)}},"Reject"))))}))))))),l.a.createElement("div",{style:{height:"75vh"},className:"valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(le.a,{style:{width:"100%"}},l.a.createElement(le.a.Body,null,e)))))}}]),t}(n.Component),De=Object(b.b)((function(e){return{auth:e.auth,errors:e.errors}}))(_e),Ie=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(x.a)(this,Object(C.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.state={userdetails:[],users:[],jobs:[],applications:[],rating:0,sortbyname:!0,sortbytitle:!0,sortbyrating:!0,sortbydateofjoin:!0},a.giveRating=a.giveRating.bind(Object(_.a)(a)),a.renderNameIcon=a.renderNameIcon.bind(Object(_.a)(a)),a.sortByName=a.sortByName.bind(Object(_.a)(a)),a.renderTitleIcon=a.renderTitleIcon.bind(Object(_.a)(a)),a.sortByTitle=a.sortByTitle.bind(Object(_.a)(a)),a.renderRatingIcon=a.renderRatingIcon.bind(Object(_.a)(a)),a.sortByRating=a.sortByRating.bind(Object(_.a)(a)),a.sortByDateOfJoin=a.sortByDateOfJoin.bind(Object(_.a)(a)),a.renderDateOfJoinIcon=a.renderDateOfJoinIcon.bind(Object(_.a)(a)),a}return Object(D.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;m.a.get("http://localhost:4000/user/"+t.id).then((function(t){e.setState({userdetails:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/job/get_jobs").then((function(t){e.setState({jobs:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/user/").then((function(t){e.setState({users:t.data})})).catch((function(e){console.log(e)})),m.a.get("http://localhost:4000/application/get_applications").then((function(t){e.setState({applications:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"rated",value:function(e){return-1!==e.applicantRating}},{key:"giveRating",value:function(e){console.log(e.target.value),this.setState({rating:e.target.value})}},{key:"getjob",value:function(e){return this.state.jobs.filter((function(t){return t._id===e}))[0]}},{key:"getapplicant",value:function(e){var t=this.state.users.filter((function(t){return t._id===e}))[0];return console.log(t),t}},{key:"sortByRating",value:function(){var e=this.state.applications,t=this.state.sortbyrating,a=this.state.users;function n(e){return a.filter((function(t){return t._id===e}))[0]}e.sort((function(e,a){var l=n(e.applicantId),r=n(a.applicantId);return void 0!==l.rating&&void 0!==r.rating?(1-2*+t)*(+l.rating-+r.rating):1})),this.setState({applications:e,sortbyrating:!this.state.sortbyrating})}},{key:"renderRatingIcon",value:function(){return this.state.sortbyrating?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"sortByName",value:function(){var e=this.state.applications,t=this.state.sortbyname,a=this.state.users;function n(e){return a.filter((function(t){return t._id===e}))[0]}e.sort((function(e,a){console.log(e.applicantId);var l=n(e.applicantId),r=n(a.applicantId);return void 0!==l&&void 0!==r&&void 0!==l.name&&void 0!==r.name?(1-2*+t)*l.name.localeCompare(r.name):1})),this.setState({applications:e,sortbyname:!this.state.sortbyname})}},{key:"renderNameIcon",value:function(){return this.state.sortbyname?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"sortByTitle",value:function(){var e=this.state.applications,t=this.state.sortbytitle,a=this.state.jobs;function n(e){return a.filter((function(t){return t._id===e}))[0]}e.sort((function(e,a){var l=n(e.jobId),r=n(a.jobId);return void 0!==l.title&&void 0!==r.title?(1-2*+t)*l.title.localeCompare(r.title):1})),this.setState({applications:e,sortbytitle:!this.state.sortbytitle})}},{key:"renderTitleIcon",value:function(){return this.state.sortbytitle?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"sortByDateOfJoin",value:function(){var e=this.state.applications,t=this.state.sortbydateofjoin;e.sort((function(e,a){return void 0!==e.dateOfJoin&&void 0!==a.dateOfJoin?(1-2*+t)*(new Date(e.dateOfJoin)-new Date(a.dateOfJoin)):1})),this.setState({applications:e,sortbydateofjoin:!this.state.sortbydateofjoin})}},{key:"renderDateOfJoinIcon",value:function(){return this.state.sortbydateofjoin?l.a.createElement(V.a,null):l.a.createElement(P.a,null)}},{key:"rate",value:function(e){var t=this.getapplicant(e.applicantId);console.log(t._id);var a=t.numrate;a+=1;var n=0,l={rating:n=-1===t.rating?+this.state.rating:(+t.rating*(+a-1)+ +this.state.rating)/+a,numrate:a},r={applicantRating:n};m.a.put("http://localhost:4000/user/edit_profile/"+t._id,l).then((function(e){console.log(l),alert("Applicant rated successfully!")})).catch((function(e){console.log(e),alert("Applicant could not be rated.")})),m.a.put("http://localhost:4000/application/edit_application/"+e._id,r).then((function(e){console.log(r)})).catch((function(e){console.log(e)})),window.location.reload()}},{key:"render",value:function(){var e,t=this,a=this.props.auth.user;this.state.userdetails.role;return e=l.a.createElement("div",null,l.a.createElement(A.a,{container:!0},l.a.createElement(A.a,{item:!0,xs:12,md:3,lg:3},l.a.createElement(fe.a,{component:"nav","aria-label":"mailbox folders"},l.a.createElement(Ee.a,{text:!0},l.a.createElement("h3",null,"Employees"))))),l.a.createElement(A.a,{container:!0},l.a.createElement(A.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(I.a,null,l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(T.a,null,l.a.createElement(R.a,null,"Name ",l.a.createElement(M.a,{onClick:this.sortByName},this.renderNameIcon())),l.a.createElement(R.a,null,"Employee Rating ",l.a.createElement(M.a,{onClick:this.sortByRating},this.renderRatingIcon())),l.a.createElement(R.a,null,"Job Title ",l.a.createElement(M.a,{onClick:this.sortByTitle},this.renderTitleIcon())),l.a.createElement(R.a,null,"Job Type"),l.a.createElement(R.a,null,"DOJ ",l.a.createElement(M.a,{onClick:this.sortByDateOfJoin},this.renderDateOfJoinIcon())))),l.a.createElement(J.a,null,this.state.applications.filter((function(e){return"Accepted"===e.status&&e.recruiterId===a.id})).map((function(e,a){return l.a.createElement(T.a,{key:a},t.state.users.filter((function(t){return t._id===e.applicantId})).map((function(e,t){return l.a.createElement(R.a,{key:t},e.name)})),t.state.users.filter((function(t){return t._id===e.applicantId})).map((function(e,t){return l.a.createElement(R.a,{key:t},e.rating?e.rating.toFixed(1):"",l.a.createElement("i",{className:"material-icons"},l.a.createElement("h6",null," star")))})),t.state.jobs.filter((function(t){return t._id===e.jobId})).map((function(e,t){return l.a.createElement(R.a,{key:t},e.title)})),t.state.jobs.filter((function(t){return t._id===e.jobId})).map((function(e,t){return l.a.createElement(R.a,{key:t},e.type)})),l.a.createElement(R.a,null,e.doj?e.doj.substring(0,10):""),t.rated(e)?l.a.createElement(R.a,null,l.a.createElement("div",null,"Rated")):l.a.createElement(R.a,null,l.a.createElement(je.a,{value:t.state.rating,onChange:t.giveRating}),l.a.createElement(re.a,{title:"Rate this employee","aria-label":"rate"},l.a.createElement("button",{className:"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3",onClick:function(){return t.rate(e)}},"Rate Employee"))))})))))))),l.a.createElement("div",{style:{height:"75vh"},className:"valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(le.a,{style:{width:"100%"}},l.a.createElement(le.a.Body,null,l.a.createElement(le.a.Text,null,e))))))}}]),t}(n.Component),Ae=Object(b.b)((function(e){return{auth:e.auth,errors:e.errors}}))(Ie);if(localStorage.jwtToken){var Re=localStorage.jwtToken;d(Re);var Be=Object(c.a)(Re);S.dispatch(p(Be));var Te=Date.now()/1e3;Be.exp<Te&&(S.dispatch(h()),window.location.href="./login")}var Fe=function(){return l.a.createElement(b.a,{store:S},l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(ne,null),l.a.createElement("br",null),l.a.createElement(s.b,{path:"/",exact:!0,component:G}),l.a.createElement(s.b,{path:"/users",exact:!0,component:W}),l.a.createElement(s.b,{path:"/register",component:X}),l.a.createElement(s.b,{path:"/login",component:ee}),l.a.createElement(s.d,null,l.a.createElement(me,{path:"/dashboard",exact:!0,component:pe}),l.a.createElement(me,{path:"/profile",exact:!0,component:ie}),l.a.createElement(me,{path:"/editprofile",exact:!0,component:ce}),l.a.createElement(me,{path:"/addeducation",exact:!0,component:be}),l.a.createElement(me,{path:"/addJob",exact:!0,component:Ne}),l.a.createElement(me,{path:"/viewMyActiveJobs",exact:!0,component:Ce}),l.a.createElement(me,{path:"/employees",exact:!0,component:Ae}),l.a.createElement(me,{path:"/jobsList",exact:!0,component:ye}),l.a.createElement(me,{path:"/myApplications",exact:!0,component:ke}),l.a.createElement(me,{path:"/appList",exact:!0,component:De})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(Fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[121,1,2]]]);
//# sourceMappingURL=main.3a7d17ea.chunk.js.map